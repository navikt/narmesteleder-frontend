[tools]
node = "24"

[tasks.install]
description = "Install dependencies (cached)"
run = "npm install"
sources = ["package.json", "package-lock.json"]
outputs = ["node_modules/.package-lock.json"]

[tasks.build]
description = "Create production build for Next.js app"
depends = ["install"]
run = "npm run build"

[tasks.dev]
description = "Start Next.js app in development mode"
depends = ["install"]
run = "npm run dev"

[tasks.lint]
description = "Run linter"
depends = ["install"]
run = "npm run lint"

[tasks.test]
description = "Run tests"
depends = ["install"]
run = "npm run test"

[tasks.playwright]
description = "Run Playwright tests"
depends = ["install"]
run = "npm run test:e2e"

[tasks.format]
description = "Format codebase"
depends = ["install"]
run = "npm run format"

[tasks.format-fix]
description = "Run Biome to fix code style issues"
depends = ["install"]
run = "npx biome check --fix"

[tasks.check]
description = "Run lint and all tests"
depends = ["lint", "test", "playwright"]

[tasks.ci]
description = "Full CI validation (lint + tests + build)"
depends = ["check", "build"]
